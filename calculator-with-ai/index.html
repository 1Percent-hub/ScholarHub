<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Academic Arsenal</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="ai-widget.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js" defer></script>
</head>
<body>
  <div class="space-scene" aria-hidden="true">
    <div class="starfield starfield-far"></div>
    <div class="starfield starfield-mid"></div>
    <div class="starfield starfield-near"></div>
    <div class="blackhole-core"></div>
    <div class="blackhole-ring blackhole-ring-outer"></div>
    <div class="blackhole-ring blackhole-ring-inner"></div>
    <div class="blackhole-glow"></div>
  </div>
  <div class="auth-screen" id="auth-screen">
    <div class="auth-panel">
      <h1 class="auth-title">Academic Arsenal</h1>
      <p class="auth-subtitle">Sign in or create an account to sync your data across devices.</p>
      <div class="auth-tabs">
        <button type="button" class="auth-tab active" data-auth-tab="signin">Sign In</button>
        <button type="button" class="auth-tab" data-auth-tab="signup">Create Account</button>
      </div>
      <form class="auth-form auth-form-signin" id="auth-form-signin">
        <label class="auth-label" for="auth-email">Email</label>
        <input type="email" id="auth-email" class="auth-input" required placeholder="you@example.com" autocomplete="email">
        <label class="auth-label" for="auth-password">Password</label>
        <div class="input-with-password-toggle">
          <input type="password" id="auth-password" class="auth-input" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password">
          <button type="button" class="password-toggle-btn" aria-label="Show password" data-password-for="auth-password" title="Show password">
            <svg class="password-toggle-icon password-toggle-icon--show" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
            <svg class="password-toggle-icon password-toggle-icon--hide hidden" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
          </button>
        </div>
        <p class="auth-error" id="auth-error-signin" aria-live="polite"></p>
        <button type="submit" class="auth-submit" id="auth-submit-signin">Sign In</button>
      </form>
      <form class="auth-form auth-form-signup hidden" id="auth-form-signup">
        <label class="auth-label" for="auth-display-name">Display Name (optional)</label>
        <input type="text" id="auth-display-name" class="auth-input" placeholder="Your name" autocomplete="name">
        <label class="auth-label" for="auth-email-up">Email</label>
        <input type="email" id="auth-email-up" class="auth-input" required placeholder="you@example.com" autocomplete="email">
        <label class="auth-label" for="auth-password-up">Password</label>
        <div class="input-with-password-toggle">
          <input type="password" id="auth-password-up" class="auth-input" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="new-password" minlength="6">
          <button type="button" class="password-toggle-btn" aria-label="Show password" data-password-for="auth-password-up" title="Show password">
            <svg class="password-toggle-icon password-toggle-icon--show" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
            <svg class="password-toggle-icon password-toggle-icon--hide hidden" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
          </button>
        </div>
        <p class="auth-error" id="auth-error-signup" aria-live="polite"></p>
        <button type="submit" class="auth-submit" id="auth-submit-signup">Create Account</button>
      </form>
      <p class="auth-guest">
        <button type="button" class="auth-guest-btn" id="auth-guest-btn">Cancel / Continue as guest</button>
      </p>
    </div>
  </div>

  <div class="launch-screen launch-hidden" id="launch-screen">
    <div class="launch-panel">
      <h1 class="launch-title">Academic Arsenal</h1>
      <p class="launch-subtitle">Pick a theme, then enter.</p>

      <div class="launch-section">
        <p class="launch-section-title">Theme Preset</p>
        <div class="theme-picker" id="theme-picker">
          <button type="button" class="theme-btn theme-btn-active" data-theme="theme-professional">Professional</button>
          <button type="button" class="theme-btn" data-theme="theme-galaxy">Galaxy</button>
          <button type="button" class="theme-btn" data-theme="theme-cyan">Cyber Cyan</button>
          <button type="button" class="theme-btn" data-theme="theme-violet">Nebula Violet</button>
        </div>
      </div>

      <div class="launch-enter-buttons">
        <button type="button" class="launch-enter-btn" id="launch-enter-calculator">Math Materials</button>
        <button type="button" class="launch-enter-btn" id="launch-enter-english">English Materials</button>
        <button type="button" class="launch-enter-btn" id="launch-enter-science">Science Materials</button>
      </div>
      <p class="launch-hint">Tip: Use Main Menu anytime to change themes.</p>
      <button type="button" class="launch-credits-btn" id="launch-credits-btn">Credits</button>
    </div>
  </div>

  <main class="app app-locked" id="app-root">
    <header class="app-header">
      <h1 class="app-header-title" id="app-header-title">Math Materials</h1>
      <div class="header-actions">
        <div class="header-profile" id="header-profile">
          <span class="header-profile-avatar-wrap">
            <span class="header-profile-avatar" id="header-profile-avatar" aria-hidden="true"></span>
          </span>
          <span class="header-profile-name-wrap">
            <span class="header-profile-name" id="header-profile-name"></span>
            <span class="header-verified-badge" id="header-verified-badge" aria-label="Verified creator" title="Verified creator"></span>
          </span>
          <button type="button" class="header-account-btn" id="header-account-btn" aria-label="Account">Account</button>
          <button type="button" class="header-signout-btn" id="header-signout-btn">Sign Out</button>
        </div>
        <div class="header-signin-wrap" id="header-signin-wrap">
          <button type="button" class="header-signin-btn" id="header-signin-btn">Sign In</button>
        </div>
        <div class="mode-toggle-wrap" aria-label="Mode tabs">
          <div class="mode-toggle" id="mode-toggle" aria-label="Mode selection">
          <button type="button" class="mode-button mode-button-active" data-mode="math-materials">
            Math Materials
          </button>
          </div>
        </div>
        <button type="button" class="settings-btn" id="settings-btn" aria-label="Settings">Settings</button>
        <button type="button" class="main-menu-btn" id="main-menu-btn">Main Menu</button>
      </div>
    </header>

    <section class="panel panel-math-materials panel-hidden" data-panel="math-materials" aria-label="Math Materials">
      <div class="math-materials-workspace english-workspace">
        <nav class="english-category-tabs" aria-label="Math categories">
          <button type="button" class="english-category-tab math-category-tab active" data-math-category="calculations">Calculations & Numbers</button>
          <button type="button" class="english-category-tab math-category-tab" data-math-category="visualization">Visualization</button>
          <button type="button" class="english-category-tab math-category-tab" data-math-category="learning">Learning</button>
        </nav>

        <div class="english-category-content math-category-content" id="math-category-calculations">
          <div class="english-nav-wrap">
            <nav class="english-nav" aria-label="Calculation tools">
              <button type="button" class="english-nav-btn math-nav-btn active" data-math-tool="calculator">Calculator</button>
              <button type="button" class="english-nav-btn math-nav-btn" data-math-tool="notepad">Notepad</button>
            </nav>
          </div>
          <div class="math-tool-content" id="math-tool-calculator">
            <div class="display" id="display" aria-live="polite">0</div>
            <div class="keys" id="keys">
              <button type="button" class="key key-op" data-value="C">C</button>
              <button type="button" class="key key-op" data-value="%">%</button>
              <button type="button" class="key key-op" data-value="/">/</button>
              <button type="button" class="key key-op" data-value="*">*</button>
              <button type="button" class="key key-op" data-value="-">âˆ’</button>
              <button type="button" class="key key-num" data-value="7">7</button>
              <button type="button" class="key key-num" data-value="8">8</button>
              <button type="button" class="key key-num" data-value="9">9</button>
              <button type="button" class="key key-op key-plus" data-value="+">+</button>
              <button type="button" class="key key-num" data-value="4">4</button>
              <button type="button" class="key key-num" data-value="5">5</button>
              <button type="button" class="key key-num" data-value="6">6</button>
              <button type="button" class="key key-equals" data-value="=">=</button>
              <button type="button" class="key key-num" data-value="1">1</button>
              <button type="button" class="key key-num" data-value="2">2</button>
              <button type="button" class="key key-num" data-value="3">3</button>
              <button type="button" class="key key-num key-zero" data-value="0">0</button>
              <button type="button" class="key key-num" data-value=".">.</button>
            </div>
          </div>
          <div class="math-tool-content hidden" id="math-tool-notepad">
            <div class="notepad">
              <label class="notepad-label" for="notepad-input">
                Notepad Mode
                <span class="notepad-hint">Write text and math together (e.g. &quot;Total: 5*20 =&quot;)</span>
              </label>
              <div class="notepad-layout">
                <textarea
                  id="notepad-input"
                  class="notepad-input"
                  placeholder="Type notes here...

Examples:
- Budget: 5*20 =
- Groceries: 12.5+8.75 =
- 100-30/2 ="></textarea>
                <div class="notepad-output" id="notepad-output" aria-live="polite"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="english-category-content math-category-content hidden" id="math-category-visualization">
          <div class="english-nav-wrap">
            <nav class="english-nav" aria-label="Visualization tools">
              <button type="button" class="english-nav-btn math-nav-btn active" data-math-tool="diagram">Diagram</button>
              <button type="button" class="english-nav-btn math-nav-btn" data-math-tool="graph">Graph</button>
            </nav>
          </div>
          <div class="math-tool-content" id="math-tool-diagram">
            <div class="diagram-workspace">
              <p class="diagram-hint">Add blocks and use <code>#1</code>, <code>#2</code>â€¦ to link to a block's result. Intermediate results flow into later blocks.</p>
              <div class="diagram-blocks" id="diagram-blocks"></div>
              <div class="diagram-actions">
                <button type="button" class="diagram-add" id="diagram-add">+ Add block</button>
              </div>
              <svg class="diagram-links" id="diagram-links" aria-hidden="true"></svg>
            </div>
          </div>
          <div class="math-tool-content hidden" id="math-tool-graph">
            <div class="graph-workspace">
              <p class="graph-hint">Add lines with expressions in <code>x</code> (e.g. <code>x*2</code>, <code>x*x</code>). Set a color per line to keep complex charts readable.</p>
              <div class="graph-series-list" id="graph-series-list"></div>
              <button type="button" class="graph-add-series" id="graph-add-series">+ Add line</button>
              <div class="graph-canvas-wrap">
                <canvas class="graph-canvas" id="graph-canvas" width="640" height="320"></canvas>
              </div>
            </div>
          </div>
        </div>

        <div class="english-category-content math-category-content hidden" id="math-category-learning">
          <div class="math-tool-content" id="math-tool-tutorial">
            <div class="tutorial">
              <h2 class="tutorial-title">Interactive Tutorial</h2>
              <p class="tutorial-subtitle">Learn each feature with guided steps and quick actions.</p>
              <div class="tutorial-step" id="tutorial-step">
                <h3 class="tutorial-step-title" id="tutorial-step-title"></h3>
                <p class="tutorial-step-desc" id="tutorial-step-desc"></p>
                <div class="tutorial-step-actions" id="tutorial-step-actions"></div>
              </div>
              <div class="tutorial-nav">
                <button type="button" class="tutorial-btn" id="tutorial-prev">Previous</button>
                <span class="tutorial-progress" id="tutorial-progress"></span>
                <button type="button" class="tutorial-btn tutorial-btn-primary" id="tutorial-next">Next</button>
              </div>
              <div class="tutorial-menu" id="tutorial-menu" aria-label="Tutorial menu"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="panel panel-english panel-hidden" data-panel="english" aria-label="English mode">
      <div class="english-workspace">
        <nav class="english-category-tabs" aria-label="English categories">
          <button type="button" class="english-category-tab active" data-english-category="reading">Reading & Analysis Tools</button>
          <button type="button" class="english-category-tab" data-english-category="writing">Writing & Drafting Assistants</button>
          <button type="button" class="english-category-tab" data-english-category="engagement">Engagement & Gamification</button>
          <button type="button" class="english-category-tab" data-english-category="learning">Learning</button>
        </nav>

        <div class="english-category-content english-category-reading" id="english-category-reading">
          <div class="english-nav-wrap">
          <nav class="english-nav" aria-label="Reading tools">
            <button type="button" class="english-nav-btn active" data-english-tool="ereader">E-Reader</button>
            <button type="button" class="english-nav-btn" data-english-tool="tracker">Device Tracker</button>
            <button type="button" class="english-nav-btn" data-english-tool="summary">Summary</button>
            <button type="button" class="english-nav-btn" data-english-tool="accessibility">Accessibility</button>
          </nav>
          </div>

        <div class="english-tool english-ereader" id="english-ereader">
          <h3 class="english-tool-title">Annotated E-Reader</h3>
          <p class="english-tool-desc">Upload a text file or paste text. Highlight passages and add sticky notes.</p>
          <div class="ereader-upload-row">
            <input type="file" id="ereader-file" class="ereader-file-input" accept=".txt" aria-label="Upload text file">
            <label for="ereader-file" class="ereader-upload-label">Upload TXT</label>
            <span class="ereader-or">or paste below:</span>
          </div>
          <textarea class="ereader-paste" id="ereader-paste" placeholder="Paste your text hereâ€¦"></textarea>
          <div class="ereader-toolbar">
            <button type="button" class="ereader-btn" id="ereader-load" data-action="load">Load Text</button>
            <button type="button" class="ereader-btn" id="ereader-highlight" data-action="highlight">Highlight selected</button>
            <button type="button" class="ereader-btn" id="ereader-note" data-action="note">Add sticky note</button>
          </div>
          <div class="ereader-view-wrap" id="ereader-view-wrap">
            <div class="ereader-view" id="ereader-view"></div>
            <div class="ereader-notes" id="ereader-notes"></div>
          </div>
        </div>

        <div class="english-tool english-tracker hidden" id="english-tracker">
          <h3 class="english-tool-title">Literary Device Tracker</h3>
          <p class="english-tool-desc">Categorize metaphors, similes, irony, and more as you read.</p>
          <form class="tracker-form" id="tracker-form">
            <div class="tracker-row">
              <label>Device</label>
              <select id="tracker-device" required>
                <option value="metaphor">Metaphor</option>
                <option value="simile">Simile</option>
                <option value="irony">Irony</option>
                <option value="personification">Personification</option>
                <option value="alliteration">Alliteration</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="tracker-row">
              <label>Quote / Example</label>
              <input type="text" id="tracker-quote" placeholder="e.g. Her smile was the sun" required>
            </div>
            <div class="tracker-row">
              <label>Source / Page</label>
              <input type="text" id="tracker-source" placeholder="e.g. Ch. 3, p. 42">
            </div>
            <div class="tracker-row">
              <label>Notes</label>
              <input type="text" id="tracker-notes" placeholder="Why it mattersâ€¦">
            </div>
            <button type="submit" class="tracker-add-btn">Add entry</button>
          </form>
          <div class="tracker-filter">
            <label>Filter:</label>
            <select id="tracker-filter">
              <option value="">All</option>
              <option value="metaphor">Metaphor</option>
              <option value="simile">Simile</option>
              <option value="irony">Irony</option>
              <option value="personification">Personification</option>
              <option value="alliteration">Alliteration</option>
              <option value="other">Other</option>
            </select>
          </div>
          <ul class="tracker-list" id="tracker-list"></ul>
        </div>

        <div class="english-tool english-summary hidden" id="english-summary">
          <h3 class="english-tool-title">Summary & Connections</h3>
          <p class="english-tool-desc">Paste text to generate a summary and see recurring themes.</p>
          <textarea class="summary-input" id="summary-input" placeholder="Paste your text or notes hereâ€¦"></textarea>
          <div class="summary-actions">
            <button type="button" class="summary-btn" id="summary-generate">Generate Summary</button>
            <button type="button" class="summary-btn" id="summary-connections">Find Themes</button>
          </div>
          <div class="summary-output-wrap">
            <div class="summary-output" id="summary-output"></div>
            <div class="connections-output" id="connections-output"></div>
          </div>
        </div>

        <div class="english-tool english-accessibility hidden" id="english-accessibility">
          <h3 class="english-tool-title">Reading Accessibility</h3>
          <p class="english-tool-desc">OpenDyslexic font and reading guides for easier reading.</p>
          <div class="accessibility-options">
            <label class="accessibility-toggle">
              <input type="checkbox" id="accessibility-dyslexic" aria-label="Use OpenDyslexic font">
              <span>OpenDyslexic font</span>
            </label>
            <label class="accessibility-toggle">
              <input type="checkbox" id="accessibility-guide" aria-label="Reading line guide">
              <span>Reading line guide</span>
            </label>
          </div>
        </div>
        </div>

        <div class="english-category-content english-category-writing hidden" id="english-category-writing">
          <div class="english-nav-wrap">
          <nav class="english-nav english-nav-writing" aria-label="Writing tools">
            <button type="button" class="english-nav-btn active" data-english-tool-w="plot">Plot Builders</button>
            <button type="button" class="english-nav-btn" data-english-tool-w="style">Style Checker</button>
            <button type="button" class="english-nav-btn" data-english-tool-w="audio">Audio Proofreader</button>
            <button type="button" class="english-nav-btn" data-english-tool-w="citation">Citation</button>
          </nav>
          </div>
          <div class="english-tool english-plot" id="english-plot">
            <h3 class="english-tool-title">Creative Plot Builders</h3>
            <p class="english-tool-desc">Plan story arcs with a timeline and keep character details consistent with profiles.</p>
            <div class="plot-tabs">
              <button type="button" class="plot-tab-btn active" data-plot-tab="timeline">Timeline</button>
              <button type="button" class="plot-tab-btn" data-plot-tab="character">Character Profile</button>
            </div>
            <div class="plot-timeline-wrap" id="plot-timeline-wrap">
              <p class="english-tool-desc">Add events in order to build your story arc.</p>
              <ul class="plot-timeline-list" id="plot-timeline-list"></ul>
              <div class="plot-timeline-add">
                <input type="text" id="plot-timeline-input" placeholder="Event (e.g. Inciting incident)" class="plot-timeline-input">
                <button type="button" class="ereader-btn" id="plot-timeline-add-btn">Add event</button>
              </div>
            </div>
            <div class="plot-character-wrap hidden" id="plot-character-wrap">
              <form class="tracker-form" id="plot-character-form">
                <div class="tracker-row"><label>Name</label><input type="text" id="plot-char-name" placeholder="Character name" required></div>
                <div class="tracker-row"><label>Role</label><input type="text" id="plot-char-role" placeholder="e.g. Protagonist"></div>
                <div class="tracker-row"><label>Appearance</label><input type="text" id="plot-char-appearance" placeholder="e.g. Brown hair, blue eyes"></div>
                <div class="tracker-row"><label>Backstory</label><input type="text" id="plot-char-backstory" placeholder="Brief backstory"></div>
                <div class="tracker-row"><label>Motivation</label><input type="text" id="plot-char-motivation" placeholder="What drives them"></div>
                <button type="submit" class="tracker-add-btn">Save character</button>
              </form>
              <ul class="plot-character-list" id="plot-character-list"></ul>
            </div>
          </div>
          <div class="english-tool english-style hidden" id="english-style">
            <h3 class="english-tool-title">Real-time Style Checker</h3>
            <p class="english-tool-desc">Paste your draft. We highlight long or complex sentences and passive voice.</p>
            <textarea class="summary-input" id="style-checker-input" placeholder="Paste your essay or paragraphâ€¦"></textarea>
            <button type="button" class="summary-btn" id="style-checker-run">Check style</button>
            <div class="style-checker-output" id="style-checker-output"></div>
          </div>
          <div class="english-tool english-audio hidden" id="english-audio">
            <h3 class="english-tool-title">Audio Proofreader</h3>
            <p class="english-tool-desc">Listen back to your writing with text-to-speech to catch awkward phrasing and missing words.</p>
            <textarea class="summary-input" id="audio-proofreader-input" placeholder="Paste or type text to hear it read aloudâ€¦"></textarea>
            <div class="audio-proofreader-actions">
              <button type="button" class="summary-btn" id="audio-proofreader-play">Listen</button>
              <button type="button" class="summary-btn" id="audio-proofreader-stop">Stop</button>
            </div>
          </div>
          <div class="english-tool english-citation hidden" id="english-citation">
            <h3 class="english-tool-title">Citation Automator</h3>
            <p class="english-tool-desc">Generate MLA or APA citations. Enter URL or book details (title, author, year, etc.).</p>
            <div class="citation-mode">
              <label><input type="radio" name="citation-mode" value="url" checked> URL</label>
              <label><input type="radio" name="citation-mode" value="book"> Book / Manual</label>
            </div>
            <div class="citation-url-wrap" id="citation-url-wrap">
              <input type="url" id="citation-url" placeholder="https://â€¦" class="citation-input">
            </div>
            <div class="citation-book-wrap hidden" id="citation-book-wrap">
              <div class="tracker-row"><label>Author(s)</label><input type="text" id="citation-author" placeholder="Last, First"></div>
              <div class="tracker-row"><label>Title</label><input type="text" id="citation-title" placeholder="Book or article title"></div>
              <div class="tracker-row"><label>Year</label><input type="text" id="citation-year" placeholder="2020"></div>
              <div class="tracker-row"><label>Publisher (optional)</label><input type="text" id="citation-publisher" placeholder="Publisher"></div>
            </div>
            <div class="citation-format">
              <label>Format</label>
              <select id="citation-format"><option value="mla">MLA</option><option value="apa">APA</option></select>
            </div>
            <button type="button" class="summary-btn" id="citation-generate">Generate citation</button>
            <div class="citation-output" id="citation-output"></div>
          </div>
        </div>

        <div class="english-category-content english-category-engagement hidden" id="english-category-engagement">
          <div class="english-nav-wrap">
          <nav class="english-nav english-nav-engagement" aria-label="Engagement tools">
            <button type="button" class="english-nav-btn active" data-english-tool-e="cards">Trading Cards</button>
            <button type="button" class="english-nav-btn" data-english-tool-e="daily">Daily Challenge</button>
            <button type="button" class="english-nav-btn" data-english-tool-e="vocab">Vocabulary Games</button>
          </nav>
          </div>
          <div class="english-tool english-cards" id="english-cards">
            <h3 class="english-tool-title">Literary Trading Cards</h3>
            <p class="english-tool-desc">Create cards for characters or vocabulary with image, archetype, motivation, etc.</p>
            <form class="tracker-form" id="card-form">
              <div class="tracker-row"><label>Name (character or word)</label><input type="text" id="card-name" required placeholder="e.g. Hamlet"></div>
              <div class="tracker-row"><label>Type</label><select id="card-type"><option value="character">Character</option><option value="vocabulary">Vocabulary</option></select></div>
              <div class="tracker-row"><label>Image URL (optional)</label><input type="url" id="card-image" placeholder="https://â€¦"></div>
              <div class="tracker-row"><label>Archetype / Definition</label><input type="text" id="card-archetype" placeholder="e.g. Tragic hero or word meaning"></div>
              <div class="tracker-row"><label>Motivation / Example</label><input type="text" id="card-motivation" placeholder="Revenge; or use in a sentence"></div>
              <button type="submit" class="tracker-add-btn">Create card</button>
            </form>
            <div class="cards-grid" id="cards-grid"></div>
          </div>
          <div class="english-tool english-daily hidden" id="english-daily">
            <h3 class="english-tool-title">Daily Writing Challenge</h3>
            <p class="english-tool-desc">Todayâ€™s prompt and a focus timer for distraction-free writing.</p>
            <div class="daily-prompt" id="daily-prompt"></div>
            <div class="daily-timer-wrap">
              <span class="daily-timer" id="daily-timer">15:00</span>
              <button type="button" class="summary-btn" id="daily-timer-start">Start timer</button>
              <button type="button" class="summary-btn" id="daily-timer-reset">Reset</button>
            </div>
            <textarea class="summary-input" id="daily-writing-area" placeholder="Write hereâ€¦" style="min-height: 8rem;"></textarea>
          </div>
          <div class="english-tool english-vocab hidden" id="english-vocab">
            <h3 class="english-tool-title">Vocabulary Games</h3>
            <p class="english-tool-desc">Add words and definitions, then practice with flashcards or spaced repetition.</p>
            <div class="vocab-add">
              <input type="text" id="vocab-word" placeholder="Word">
              <input type="text" id="vocab-def" placeholder="Definition">
              <button type="button" class="ereader-btn" id="vocab-add-btn">Add</button>
            </div>
            <div class="vocab-mode">
              <button type="button" class="summary-btn active" data-vocab-mode="flashcard">Flashcards</button>
              <button type="button" class="summary-btn" data-vocab-mode="quiz">Quick quiz</button>
            </div>
            <div class="vocab-flashcard-wrap" id="vocab-flashcard-wrap">
              <div class="vocab-card" id="vocab-card">
                <div class="vocab-card-face" id="vocab-card-word"></div>
                <button type="button" class="ereader-btn" id="vocab-flip">Show definition</button>
              </div>
              <div class="vocab-nav"><button type="button" id="vocab-prev">Prev</button><span id="vocab-index">0 / 0</span><button type="button" id="vocab-next">Next</button></div>
            </div>
            <ul class="vocab-list" id="vocab-list"></ul>
          </div>
        </div>

        <div class="english-category-content english-category-learning hidden" id="english-category-learning">
          <div class="english-tool english-tutorial" id="english-tutorial">
            <h3 class="english-tool-title">English Tools Tutorial</h3>
            <p class="english-tool-desc">Learn each reading and analysis feature with guided steps.</p>
            <div class="english-tutorial-step" id="english-tutorial-step">
              <h4 class="english-tutorial-step-title" id="english-tutorial-step-title"></h4>
              <p class="english-tutorial-step-desc" id="english-tutorial-step-desc"></p>
              <div class="english-tutorial-actions" id="english-tutorial-actions"></div>
            </div>
            <div class="english-tutorial-nav">
              <button type="button" class="english-tutorial-btn" id="english-tutorial-prev">Previous</button>
              <span class="english-tutorial-progress" id="english-tutorial-progress"></span>
              <button type="button" class="english-tutorial-btn english-tutorial-btn-primary" id="english-tutorial-next">Next</button>
            </div>
            <div class="english-tutorial-menu" id="english-tutorial-menu" aria-label="Tutorial menu"></div>
          </div>
        </div>
      </div>
    </section>

    <section class="panel panel-science panel-hidden" data-panel="science" aria-label="Science mode">
      <div class="science-workspace">
        <nav class="english-category-tabs science-category-tabs" aria-label="Science categories">
          <button type="button" class="english-category-tab science-category-tab active" data-science-category="simulators">The "What If" Lab (Simulators)</button>
          <button type="button" class="english-category-tab science-category-tab" data-science-category="reference">Interactive Data & Reference</button>
          <button type="button" class="english-category-tab science-category-tab" data-science-category="lab">Lab Management Tools</button>
          <button type="button" class="english-category-tab science-category-tab" data-science-category="study">Study Aids</button>
          <button type="button" class="english-category-tab science-category-tab" data-science-category="learning">Learning</button>
        </nav>

        <div class="english-category-content science-category-content" id="science-category-simulators">
          <div class="english-nav-wrap science-nav-wrap">
            <nav class="english-nav science-nav" aria-label="Simulator tools">
              <button type="button" class="english-nav-btn science-nav-btn active" data-science-tool="stoichiometry">Stoichiometry Solver</button>
              <button type="button" class="english-nav-btn science-nav-btn" data-science-tool="genetic">Genetic Square Generator</button>
              <button type="button" class="english-nav-btn science-nav-btn" data-science-tool="circuit">Circuit Sandbox</button>
            </nav>
          </div>
          <div class="science-tool" id="science-stoichiometry">
            <h3 class="science-tool-title">Stoichiometry Solver</h3>
            <p class="science-tool-desc">Input a balanced chemical equation and the amount of one substance. Get molar masses and exact amounts needed for each ingredient.</p>
            <div class="stoich-form">
              <label>Equation (e.g., 2 H2 + O2 â†’ 2 H2O)</label>
              <input type="text" id="stoich-equation" class="stoich-input" placeholder="2 H2 + O2 â†’ 2 H2O">
              <label>Given amount (e.g., 4 g H2)</label>
              <input type="text" id="stoich-given" class="stoich-input" placeholder="4 g H2">
              <button type="button" class="summary-btn" id="stoich-solve">Solve</button>
            </div>
            <div class="stoich-output" id="stoich-output"></div>
          </div>
          <div class="science-tool hidden" id="science-genetic">
            <h3 class="science-tool-title">Genetic Square Generator</h3>
            <p class="science-tool-desc">Pick parent genotypes and build a Punnett Square. See genotype and phenotype percentages for offspring.</p>
            <div class="genetic-form">
              <div class="genetic-row">
                <label>Parent 1 genotype</label>
                <input type="text" id="genetic-p1" class="genetic-input" placeholder="e.g., Bb" maxlength="4">
              </div>
              <div class="genetic-row">
                <label>Parent 2 genotype</label>
                <input type="text" id="genetic-p2" class="genetic-input" placeholder="e.g., Bb" maxlength="4">
              </div>
              <button type="button" class="summary-btn" id="genetic-build">Build Punnett Square</button>
            </div>
            <div class="punnett-wrap" id="punnett-wrap"></div>
            <div class="genetic-results" id="genetic-results"></div>
          </div>
          <div class="science-tool hidden" id="science-circuit">
            <h3 class="science-tool-title">Circuit Sandbox</h3>
            <p class="science-tool-desc">Place components on the grid and connect them. The bulb lights when current flows from battery + to âˆ’ through it.</p>
            <div class="circuit-toolbar">
              <span class="circuit-label">Add:</span>
              <button type="button" class="circuit-palette-btn" data-circuit-type="battery" title="Battery (9V)">ðŸ”‹</button>
              <button type="button" class="circuit-palette-btn" data-circuit-type="resistor" title="Resistor (10Î©)">Î©</button>
              <button type="button" class="circuit-palette-btn" data-circuit-type="bulb" title="Light bulb">ðŸ’¡</button>
              <button type="button" class="circuit-palette-btn" data-circuit-type="wire" title="Wire">â”€</button>
              <button type="button" class="circuit-palette-btn" data-circuit-type="erase" title="Erase">ðŸ—‘</button>
              <button type="button" class="summary-btn" id="circuit-simulate">Simulate</button>
            </div>
            <div class="circuit-grid-wrap">
              <div class="circuit-grid" id="circuit-grid"></div>
            </div>
            <div class="circuit-result" id="circuit-result"></div>
          </div>
        </div>

        <div class="english-category-content science-category-content hidden" id="science-category-reference">
          <div class="english-nav-wrap science-nav-wrap">
            <nav class="english-nav science-nav" aria-label="Reference tools">
              <button type="button" class="english-nav-btn science-nav-btn active" data-science-tool="periodictable">Dynamic Periodic Table</button>
              <button type="button" class="english-nav-btn science-nav-btn" data-science-tool="converter">Unit Converter for Pros</button>
              <button type="button" class="english-nav-btn science-nav-btn" data-science-tool="constants">Constants Library</button>
            </nav>
          </div>
          <div class="science-tool" id="science-periodictable">
            <h3 class="science-tool-title">Dynamic Periodic Table</h3>
            <p class="science-tool-desc">Filter by state of matter at a temperature, or sort elements by electronegativity and atomic radius.</p>
            <div class="periodic-controls">
              <div class="periodic-filter-row">
                <label>State at temp (K):</label>
                <input type="number" id="periodic-temp" class="periodic-input" value="298" min="0" max="6000" step="10" placeholder="298">
                <select id="periodic-state-filter">
                  <option value="">All states</option>
                  <option value="solid">Solid only</option>
                  <option value="liquid">Liquid only</option>
                  <option value="gas">Gas only</option>
                </select>
              </div>
              <div class="periodic-sort-row">
                <label>Sort by:</label>
                <select id="periodic-sort">
                  <option value="default">Default (by position)</option>
                  <option value="electronegativity">Electronegativity</option>
                  <option value="atomic-radius">Atomic radius</option>
                  <option value="number">Atomic number</option>
                </select>
              </div>
            </div>
            <div class="periodic-table-wrap" id="periodic-table-wrap"></div>
            <div class="periodic-detail" id="periodic-detail"></div>
          </div>
          <div class="science-tool hidden" id="science-converter">
            <h3 class="science-tool-title">Unit Converter for Pros</h3>
            <p class="science-tool-desc">Science-only conversions: Joules to Calories, Light Years to Parsecs, Kelvins to Celsius, and more.</p>
            <div class="converter-form">
              <div class="converter-row">
                <input type="number" id="converter-value" class="converter-input" placeholder="Enter value" step="any">
                <select id="converter-from" class="converter-select"></select>
                <span class="converter-equals">=</span>
                <span id="converter-result" class="converter-result">â€”</span>
                <select id="converter-to" class="converter-select"></select>
              </div>
              <div class="converter-category">
                <span>Category:</span>
                <button type="button" class="converter-cat-btn active" data-cat="energy">Energy</button>
                <button type="button" class="converter-cat-btn" data-cat="distance">Distance</button>
                <button type="button" class="converter-cat-btn" data-cat="temperature">Temperature</button>
                <button type="button" class="converter-cat-btn" data-cat="pressure">Pressure</button>
                <button type="button" class="converter-cat-btn" data-cat="other">Other</button>
              </div>
            </div>
          </div>
          <div class="science-tool hidden" id="science-constants">
            <h3 class="science-tool-title">Constants Library</h3>
            <p class="science-tool-desc">Quick-access menu for universal constants. Search or browse â€” no need to Google mid-problem.</p>
            <input type="text" id="constants-search" class="constants-search" placeholder="Search constantsâ€¦">
            <div class="constants-list" id="constants-list"></div>
          </div>
        </div>

        <div class="english-category-content science-category-content hidden" id="science-category-lab">
          <div class="english-nav-wrap science-nav-wrap">
            <nav class="english-nav science-nav" aria-label="Lab tools">
              <button type="button" class="english-nav-btn science-nav-btn active" data-science-tool="timer">Smart Lab Timer</button>
              <button type="button" class="english-nav-btn science-nav-btn" data-science-tool="logger">Observation Logger</button>
              <button type="button" class="english-nav-btn science-nav-btn" data-science-tool="graphing">Graphing Engine</button>
            </nav>
          </div>
          <div class="science-tool" id="science-timer">
            <h3 class="science-tool-title">Smart Lab Timer</h3>
            <p class="science-tool-desc">Run up to four timers at once for different test tubes or steps. Give each a label and set a countdown.</p>
            <div class="lab-timers" id="lab-timers">
              <div class="lab-timer-slot" data-timer-id="0">
                <input type="text" class="lab-timer-label" placeholder="e.g. Test tube A" maxlength="24">
                <div class="lab-timer-set-row">
                  <input type="number" class="lab-timer-min" value="5" min="0" max="99" aria-label="Minutes">
                  <span>:</span>
                  <input type="number" class="lab-timer-sec" value="0" min="0" max="59" aria-label="Seconds">
                </div>
                <div class="lab-timer-display" aria-live="polite">5:00</div>
                <div class="lab-timer-btns">
                  <button type="button" class="summary-btn lab-timer-start">Start</button>
                  <button type="button" class="summary-btn lab-timer-pause hidden">Pause</button>
                  <button type="button" class="summary-btn lab-timer-reset">Reset</button>
                </div>
              </div>
              <div class="lab-timer-slot" data-timer-id="1">
                <input type="text" class="lab-timer-label" placeholder="e.g. Test tube B" maxlength="24">
                <div class="lab-timer-set-row">
                  <input type="number" class="lab-timer-min" value="5" min="0" max="99">
                  <span>:</span>
                  <input type="number" class="lab-timer-sec" value="0" min="0" max="59">
                </div>
                <div class="lab-timer-display">5:00</div>
                <div class="lab-timer-btns">
                  <button type="button" class="summary-btn lab-timer-start">Start</button>
                  <button type="button" class="summary-btn lab-timer-pause hidden">Pause</button>
                  <button type="button" class="summary-btn lab-timer-reset">Reset</button>
                </div>
              </div>
              <div class="lab-timer-slot" data-timer-id="2">
                <input type="text" class="lab-timer-label" placeholder="e.g. Reaction 1" maxlength="24">
                <div class="lab-timer-set-row">
                  <input type="number" class="lab-timer-min" value="5" min="0" max="99">
                  <span>:</span>
                  <input type="number" class="lab-timer-sec" value="0" min="0" max="59">
                </div>
                <div class="lab-timer-display">5:00</div>
                <div class="lab-timer-btns">
                  <button type="button" class="summary-btn lab-timer-start">Start</button>
                  <button type="button" class="summary-btn lab-timer-pause hidden">Pause</button>
                  <button type="button" class="summary-btn lab-timer-reset">Reset</button>
                </div>
              </div>
              <div class="lab-timer-slot" data-timer-id="3">
                <input type="text" class="lab-timer-label" placeholder="e.g. Reaction 2" maxlength="24">
                <div class="lab-timer-set-row">
                  <input type="number" class="lab-timer-min" value="5" min="0" max="99">
                  <span>:</span>
                  <input type="number" class="lab-timer-sec" value="0" min="0" max="59">
                </div>
                <div class="lab-timer-display">5:00</div>
                <div class="lab-timer-btns">
                  <button type="button" class="summary-btn lab-timer-start">Start</button>
                  <button type="button" class="summary-btn lab-timer-pause hidden">Pause</button>
                  <button type="button" class="summary-btn lab-timer-reset">Reset</button>
                </div>
              </div>
            </div>
          </div>
          <div class="science-tool hidden" id="science-logger">
            <h3 class="science-tool-title">Observation Logger</h3>
            <p class="science-tool-desc">A digital notebook for the scientific method: Hypothesis, Variable, Procedure, and Conclusion.</p>
            <div class="logger-form">
              <div class="logger-section">
                <label>Hypothesis</label>
                <textarea id="logger-hypothesis" class="logger-textarea" placeholder="What do you predict will happen?"></textarea>
              </div>
              <div class="logger-section">
                <label>Variable(s)</label>
                <textarea id="logger-variable" class="logger-textarea" placeholder="Independent and dependent variables; controls."></textarea>
              </div>
              <div class="logger-section">
                <label>Procedure</label>
                <textarea id="logger-procedure" class="logger-textarea" placeholder="Step-by-step what you did."></textarea>
              </div>
              <div class="logger-section">
                <label>Conclusion</label>
                <textarea id="logger-conclusion" class="logger-textarea" placeholder="What you observed and whether it supported the hypothesis."></textarea>
              </div>
              <div class="logger-actions">
                <button type="button" class="summary-btn" id="logger-save">Save to browser</button>
                <button type="button" class="summary-btn" id="logger-clear">Clear</button>
              </div>
            </div>
          </div>
          <div class="science-tool hidden" id="science-graphing">
            <h3 class="science-tool-title">Graphing Engine</h3>
            <p class="science-tool-desc">Paste or type raw data (X and Y columns). Choose line or bar chart and export as an image for your lab report.</p>
            <div class="lab-graph-controls">
              <div class="lab-graph-row">
                <label>X axis label</label>
                <input type="text" id="lab-graph-xlabel" class="lab-graph-input" placeholder="e.g. Time (min)">
              </div>
              <div class="lab-graph-row">
                <label>Y axis label</label>
                <input type="text" id="lab-graph-ylabel" class="lab-graph-input" placeholder="e.g. Temperature (Â°C)">
              </div>
              <div class="lab-graph-row">
                <label>Chart type</label>
                <select id="lab-graph-type">
                  <option value="line">Line</option>
                  <option value="bar">Bar</option>
                </select>
              </div>
              <div class="lab-graph-data-wrap">
                <label>Data (one pair per line: X then Y, separated by comma or tab)</label>
                <textarea id="lab-graph-data" class="lab-graph-data" placeholder="0, 22&#10;1, 25&#10;2, 28&#10;3, 30"></textarea>
              </div>
              <div class="lab-graph-actions">
                <button type="button" class="summary-btn" id="lab-graph-draw">Draw graph</button>
                <button type="button" class="summary-btn" id="lab-graph-export">Export as image</button>
              </div>
            </div>
            <div class="lab-graph-canvas-wrap">
              <canvas id="lab-graph-canvas" width="640" height="320"></canvas>
            </div>
          </div>
        </div>

        <div class="english-category-content science-category-content hidden" id="science-category-study">
          <div class="english-nav-wrap science-nav-wrap">
            <nav class="english-nav science-nav" aria-label="Study tools">
              <button type="button" class="english-nav-btn science-nav-btn active" data-science-tool="rootwords">Root Word Dictionary</button>
              <button type="button" class="english-nav-btn science-nav-btn" data-science-tool="safety">Safety Quiz Mode</button>
            </nav>
          </div>
          <div class="science-tool" id="science-rootwords">
            <h3 class="science-tool-title">Root Word Dictionary (Science Decoder)</h3>
            <p class="science-tool-desc">Many science words are Greek/Latin. Decode a term or browse roots to guess the meaning of new words.</p>
            <div class="root-decoder-wrap">
              <label>Decode a word:</label>
              <input type="text" id="root-decoder-input" class="root-decoder-input" placeholder="e.g. biology, photosynthesis">
              <div id="root-decoder-result" class="root-decoder-result"></div>
            </div>
            <input type="text" id="root-search" class="constants-search" placeholder="Search roots (e.g. bio, therm)">
            <div class="root-list" id="root-list"></div>
          </div>
          <div class="science-tool hidden" id="science-safety">
            <h3 class="science-tool-title">Safety Quiz Mode</h3>
            <p class="science-tool-desc">Review lab safety symbols before your experiment. Match the symbol to its meaning.</p>
            <div class="safety-quiz-wrap" id="safety-quiz-wrap">
              <div class="safety-quiz-start" id="safety-quiz-start">
                <p>You'll see a safety symbol name. Choose the correct meaning.</p>
                <button type="button" class="summary-btn" id="safety-quiz-begin">Start quiz</button>
              </div>
              <div class="safety-quiz-game hidden" id="safety-quiz-game">
                <div class="safety-quiz-score"><span id="safety-quiz-score">0</span> / <span id="safety-quiz-total">0</span></div>
                <div class="safety-quiz-prompt" id="safety-quiz-prompt"></div>
                <div class="safety-quiz-choices" id="safety-quiz-choices"></div>
              </div>
              <div class="safety-quiz-done hidden" id="safety-quiz-done">
                <p class="safety-quiz-final" id="safety-quiz-final"></p>
                <button type="button" class="summary-btn" id="safety-quiz-again">Try again</button>
              </div>
            </div>
          </div>
        </div>

        <div class="english-category-content science-category-content hidden" id="science-category-learning">
          <div class="english-nav-wrap science-nav-wrap">
            <nav class="english-nav science-nav" aria-label="Learning">
              <button type="button" class="english-nav-btn science-nav-btn active" data-science-tool="learning">Science Tools Tutorial</button>
            </nav>
          </div>
          <div class="science-tool" id="science-learning">
            <h3 class="science-tool-title">Science Tools Tutorial</h3>
            <p class="science-tool-desc">Learn how to use the simulators, reference tools, lab timers, and study aids. Work through short steps to try each feature.</p>
            <div class="tutorial-step" id="science-tutorial-step">
              <h4 class="tutorial-step-title" id="science-tutorial-title">Welcome to Science Materials</h4>
              <p class="tutorial-step-desc" id="science-tutorial-desc">Use the category tabs above to switch between Simulators, Reference, Lab Tools, and Study Aids. In each category, use the smaller tabs to pick a specific tool. Click &quot;Next&quot; to see a quick tip.</p>
              <div class="tutorial-step-actions" id="science-tutorial-actions"></div>
            </div>
            <div class="tutorial-nav">
              <button type="button" class="tutorial-btn" id="science-tutorial-prev">Previous</button>
              <span class="tutorial-progress" id="science-tutorial-progress">1 / 5</span>
              <button type="button" class="tutorial-btn tutorial-btn-primary" id="science-tutorial-next">Next</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="app-credits">
      <button type="button" class="app-credits-btn" id="app-credits-btn">Credits</button>
    </footer>
  </main>

  <audio id="app-music" preload="auto" loop>
    <source src="app-music.mp3" type="audio/mpeg">
    <source src="app-music.ogg" type="audio/ogg">
  </audio>
  <audio id="credits-audio" preload="auto">
    <source src="credits-music.mp3" type="audio/mpeg">
    <source src="credits-music.ogg" type="audio/ogg">
  </audio>
  <div class="account-overlay" id="account-overlay" aria-hidden="true">
    <div class="account-panel" id="account-panel" role="dialog" aria-labelledby="account-panel-title" aria-modal="true">
      <div class="account-panel-header">
        <h2 class="account-panel-title" id="account-panel-title">Account</h2>
        <button type="button" class="account-close-btn" id="account-close-btn" aria-label="Close">Ã—</button>
      </div>
      <div class="account-tabs" role="tablist">
        <button type="button" class="account-tab account-tab-active" data-account-tab="profile" role="tab" aria-selected="true">Profile</button>
        <button type="button" class="account-tab" data-account-tab="security" role="tab" aria-selected="false">Security</button>
        <button type="button" class="account-tab" data-account-tab="data" role="tab" aria-selected="false">Data &amp; privacy</button>
        <button type="button" class="account-tab account-tab-admin" data-account-tab="admin" role="tab" aria-selected="false" id="account-tab-admin" hidden>Admin</button>
      </div>
      <div class="account-content">
        <section class="account-section account-section-profile" id="account-section-profile" role="tabpanel">
          <h3 class="account-section-title">Profile <span class="account-verified-badge" id="account-verified-badge" aria-label="Verified creator" title="Verified creator"></span></h3>
          <div class="account-profile-pic-wrap">
            <button type="button" class="account-profile-avatar-btn" id="account-profile-avatar-btn" aria-label="Change profile picture">
              <span class="account-profile-avatar" id="account-profile-avatar" aria-hidden="true"></span>
            </button>
            <input type="file" id="account-avatar-file" class="hidden" accept="image/*" aria-label="Choose profile picture">
            <div class="account-avatar-popover hidden" id="account-avatar-popover" role="menu">
              <button type="button" class="account-avatar-popover-option" id="account-avatar-choose">Choose photo</button>
              <button type="button" class="account-avatar-popover-option account-avatar-popover-remove" id="account-avatar-remove">Remove photo</button>
            </div>
          </div>
          <div class="account-avatar-options">
            <h4 class="account-section-subtitle">Profile picture</h4>
            <p class="account-hint">Use a URL or upload an image.</p>
            <div class="account-form-row">
              <label class="account-label" for="account-avatar-url">Image URL</label>
              <input type="url" id="account-avatar-url" class="account-input" placeholder="https://... or leave empty">
            </div>
            <div class="account-form-row">
              <label class="account-label" for="account-avatar-file">Or upload image</label>
              <input type="file" id="account-avatar-file-upload" class="account-input account-file-input" accept="image/*" aria-label="Upload image">
            </div>
            <button type="button" class="account-submit-btn" id="account-avatar-apply">Apply profile picture</button>
          </div>
          <form class="account-form" id="account-profile-form">
            <div class="account-form-row">
              <label class="account-label" for="account-email">Email</label>
              <input type="email" id="account-email" class="account-input account-input-readonly" readonly aria-readonly="true">
            </div>
            <div class="account-form-row">
              <label class="account-label" for="account-display-name">Display name</label>
              <input type="text" id="account-display-name" class="account-input" placeholder="Your name" maxlength="64" autocomplete="name">
            </div>
            <p class="account-hint">Your email cannot be changed. Display name is shown in the header.</p>
            <button type="submit" class="account-submit-btn" id="account-profile-save">Save changes</button>
            <p class="account-form-message" id="account-profile-message" aria-live="polite"></p>
          </form>
        </section>
        <section class="account-section account-section-security hidden" id="account-section-security" role="tabpanel" hidden>
          <h3 class="account-section-title">Security</h3>
          <form class="account-form" id="account-password-form">
            <div class="account-form-row">
              <label class="account-label" for="account-current-password">Current password</label>
              <div class="input-with-password-toggle">
                <input type="password" id="account-current-password" class="account-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password" required>
                <button type="button" class="password-toggle-btn account-password-toggle" aria-label="Show password" data-password-for="account-current-password" title="Show password">
                  <svg class="password-toggle-icon password-toggle-icon--show" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                  <svg class="password-toggle-icon password-toggle-icon--hide hidden" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
                </button>
              </div>
            </div>
            <div class="account-form-row">
              <label class="account-label" for="account-new-password">New password</label>
              <div class="input-with-password-toggle">
                <input type="password" id="account-new-password" class="account-input" placeholder="At least 6 characters" autocomplete="new-password" minlength="6" required>
                <button type="button" class="password-toggle-btn account-password-toggle" aria-label="Show password" data-password-for="account-new-password" title="Show password">
                  <svg class="password-toggle-icon password-toggle-icon--show" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                  <svg class="password-toggle-icon password-toggle-icon--hide hidden" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
                </button>
              </div>
            </div>
            <div class="account-form-row">
              <label class="account-label" for="account-confirm-password">Confirm new password</label>
              <div class="input-with-password-toggle">
                <input type="password" id="account-confirm-password" class="account-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="new-password" minlength="6" required>
                <button type="button" class="password-toggle-btn account-password-toggle" aria-label="Show password" data-password-for="account-confirm-password" title="Show password">
                  <svg class="password-toggle-icon password-toggle-icon--show" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                  <svg class="password-toggle-icon password-toggle-icon--hide hidden" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
                </button>
              </div>
            </div>
            <button type="submit" class="account-submit-btn" id="account-password-submit">Change password</button>
            <p class="account-form-message" id="account-password-message" aria-live="polite"></p>
          </form>
        </section>
        <section class="account-section account-section-data hidden" id="account-section-data" role="tabpanel" hidden>
          <h3 class="account-section-title">Data &amp; privacy</h3>
          <div class="account-info-block">
            <p class="account-info-text">Export a copy of your account data (settings and saved content) as a JSON file.</p>
            <button type="button" class="account-action-btn" id="account-export-btn">Export my data</button>
          </div>
          <div class="account-info-block account-danger-zone">
            <h4 class="account-danger-title">Danger zone</h4>
            <p class="account-info-text">Permanently delete your account and all associated data. This cannot be undone.</p>
            <button type="button" class="account-danger-btn" id="account-delete-btn">Delete my account</button>
          </div>
          <p class="account-form-message" id="account-data-message" aria-live="polite"></p>
        </section>
        <section class="account-section account-section-admin hidden" id="account-section-admin" role="tabpanel" hidden>
          <h3 class="account-section-title">Admin</h3>
          <div class="account-admin-block">
            <p class="account-admin-badge-line"><span class="account-verified-badge account-verified-badge-lg" aria-hidden="true"></span> You're the creator of Academic Arsenal.</p>
            <p class="account-info-text">This account has a verified badge so others know it's the official creator. Use this area for creator-only tools or info later.</p>
          </div>
        </section>
      </div>
      <div class="account-footer">
        <p class="account-meta" id="account-meta"></p>
      </div>
    </div>
  </div>

  <div class="settings-overlay" id="settings-overlay" aria-hidden="true">
    <div class="settings-panel" id="settings-panel" role="dialog" aria-labelledby="settings-title" aria-modal="true">
      <h2 class="settings-title" id="settings-title">Settings</h2>
      <div class="settings-row">
        <label class="settings-label" for="setting-sound-effects">Button click sound</label>
        <input type="checkbox" id="setting-sound-effects" class="settings-checkbox" checked>
      </div>
      <div class="settings-row settings-row-volume">
        <label class="settings-label" for="setting-volume">Volume</label>
        <div class="settings-volume-wrap">
          <input type="range" id="setting-volume" class="settings-volume" min="0" max="100" value="100" aria-label="Volume">
          <span class="settings-volume-value" id="setting-volume-value">100%</span>
        </div>
      </div>
      <div class="settings-row">
        <label class="settings-label" for="setting-speak-on-hover">Speak button labels on hover (AI voice)</label>
        <input type="checkbox" id="setting-speak-on-hover" class="settings-checkbox">
      </div>
      <p class="settings-hint">When &quot;Speak on hover&quot; is on, hovering over buttons will read their label aloud using your device&apos;s voice.</p>
      <button type="button" class="settings-close-btn" id="settings-close-btn">Done</button>
    </div>
  </div>

  <div class="credits-overlay" id="credits-overlay" aria-hidden="true">
    <div class="credits-crawl-wrap">
      <div class="credits-crawl" id="credits-crawl">
        <p class="credits-title">CREDITS</p>
        <p class="credits-line">Audio by The Creater</p>
        <p class="credits-line">Code by The Creater</p>
        <p class="credits-line">Design by The Creater</p>
        <p class="credits-line">UI by The Creater</p>
        <p class="credits-line">Music by The Creater</p>
        <p class="credits-line">Sounds by The Creater</p>
        <p class="credits-line">AI integration by The Creater</p>
        <p class="credits-line">Math tools by The Creater</p>
        <p class="credits-line">English tools by The Creater</p>
        <p class="credits-line">Science tools by The Creater</p>
        <p class="credits-line">Widget by The Creater</p>
        <p class="credits-line">Everything else by The Creater</p>
        <p class="credits-divider">â€” âœ¦ â€”</p>
        <p class="credits-made">The Creater</p>
      </div>
    </div>
    <button type="button" class="credits-close" id="credits-close" aria-label="Close credits">Close</button>
  </div>

  <div class="lottie-tap-container" id="lottie-tap-container" aria-hidden="true"></div>
  <div class="lottie-transition-overlay" id="lottie-transition-overlay" aria-hidden="true"></div>
  <script src="auth.js"></script>
  <script src="data-service.js"></script>
  <script src="app.js"></script>
  <script src="config.js"></script>
  <script>
    (function() {
      if (window.CHATBOT_API_URL) return;
      if (window.location.hostname === "localhost" && window.location.port === "5000")
        window.CHATBOT_API_URL = "/api/chat";
      else
        window.CHATBOT_API_URL = "http://localhost:5000/api/chat";
    })();
  </script>
  <button type="button" class="ai-widget-tab" id="ai-widget-tab" aria-label="Open AI assistant">Ask Creater</button>
  <div class="ai-widget-panel ai-widget-panel--hidden" id="ai-widget-panel">
    <div class="ai-widget-header" id="ai-widget-header">
      <span class="ai-widget-header-title">Creater</span>
      <button type="button" class="ai-widget-close" id="ai-widget-close" aria-label="Close">Ã—</button>
    </div>
    <div class="ai-widget-messages" id="ai-widget-messages"></div>
    <div class="ai-widget-input-wrap">
      <div class="ai-widget-input-inner">
        <textarea id="ai-widget-input" class="ai-widget-input" placeholder="Message..." rows="1" autocomplete="off"></textarea>
        <button type="button" id="ai-widget-send" aria-label="Send">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
  <script src="ai-widget.js"></script>
</body>
</html>
